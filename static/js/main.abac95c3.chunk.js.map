{"version":3,"sources":["api/goods.js","components/Button.js","components/GoodsList.js","App.js","index.js"],"names":["getAll","fetch","then","response","json","get5First","result","slice","sort","goodA","GoodB","name","localeCompare","getRedGoods","goods","filter","good","color","Button","startLoad","isLoadingGoods","buttonText","useState","isLoading","setIsLoading","useEffect","className","type","onClick","role","aria-hidden","GoodsList","map","id","key","style","App","state","hasError","loadGoods","loading","a","setState","loadedGoods","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"8SAGO,SAASA,IACd,OAAOC,MAHI,yEAIRC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAGxB,IAAMC,EAAY,kBAAML,IAC5BE,MAAK,SAAAI,GAAM,OACVA,EAAOC,MAAM,EAAG,GAAGC,MAAK,SAACC,EAAOC,GAAR,OACtBD,EAAME,KAAKC,cAAcF,EAAMC,aAIxBE,EAAc,kBAAMb,IAC9BE,MAAK,SAAAY,GAAK,OACTA,EAAMC,QAAO,SAAAC,GAAI,MAAmB,QAAfA,EAAKC,a,OCdjBC,EAAS,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,eAAgBC,EAAiB,EAAjBA,WAAiB,EACjCC,oBAAS,GADwB,mBAC5DC,EAD4D,KACjDC,EADiD,KAkBnE,OANAC,qBAAU,WACHL,GACHI,GAAa,KAEd,CAACJ,IAGF,4BACEM,UAAU,uBACVC,KAAK,SACLC,QAnBgB,WACdR,IAIJD,IACAK,GAAa,MAgBTD,EACE,8BACE,0BACEG,UAAU,mCACVG,KAAK,SACLC,cAAY,SAJhB,cASA,8BAAOT,KCnCJU,EAAY,SAAC,GAAD,IAAGjB,EAAH,EAAGA,MAAH,OACvB,yBAAKY,UAAU,WACb,wBAAIA,UAAU,oBAEVZ,EAAMkB,KAAI,gBAAGC,EAAH,EAAGA,GAAItB,EAAP,EAAOA,KAAMM,EAAb,EAAaA,MAAb,OACR,wBACEiB,IAAKD,EACLP,UAAU,kBACVS,MAAO,CAAElB,UAERN,SC6DEyB,E,4MAjEbC,MAAQ,CACNjB,gBAAgB,EAChBkB,UAAU,EACVxB,MAAO,I,EAGTyB,U,uCAAY,WAAMC,GAAN,eAAAC,EAAA,6DACV,EAAKC,SAAS,CACZtB,gBAAgB,EAChBkB,UAAU,IAHF,kBAOkBE,IAPlB,OAOFG,EAPE,OASR,EAAKD,SAAS,CACZtB,gBAAgB,EAChBN,MAAO6B,IAXD,gDAcR,EAAKD,SAAS,CACZtB,gBAAgB,EAChBkB,UAAU,IAhBJ,yD,6GAqBF,IAAD,SACqCM,KAAKP,MAAzCjB,EADD,EACCA,eAAgBN,EADjB,EACiBA,MAAOwB,EADxB,EACwBA,SAE/B,OACE,yBAAKZ,UAAU,mBACb,wBAAIA,UAAU,uBAAd,yBAEA,kBAAC,EAAD,CACEN,eAAgBA,EAChBD,UAAW,kBAAM,EAAKoB,UAAUvC,IAChCqB,WAAW,eAEb,kBAAC,EAAD,CACED,eAAgBA,EAChBD,UAAW,kBAAM,EAAKoB,UAAUlC,IAChCgB,WAAW,iBAEb,kBAAC,EAAD,CACED,eAAgBA,EAChBD,UAAW,kBAAM,EAAKoB,UAAU1B,IAChCQ,WAAW,mBAIXiB,EAEI,yBAAKZ,UAAU,gCAAgCG,KAAK,SAApD,yBAIA,kBAAC,EAAD,CAAWf,MAAOA,S,GA1Dd+B,IAAMC,WCJxBC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.abac95c3.chunk.js","sourcesContent":["// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll() {\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nexport const get5First = () => getAll()\n  .then(result => (\n    result.slice(0, 5).sort((goodA, GoodB) => (\n      goodA.name.localeCompare(GoodB.name)\n    ))\n  ));\n\nexport const getRedGoods = () => getAll()\n  .then(goods => (\n    goods.filter(good => good.color === 'red')\n  ));\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Button = ({ startLoad, isLoadingGoods, buttonText }) => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleClick = () => {\n    if (isLoadingGoods) {\n      return;\n    }\n\n    startLoad();\n    setIsLoading(true);\n  };\n\n  useEffect(() => {\n    if (!isLoadingGoods) {\n      setIsLoading(false);\n    }\n  }, [isLoadingGoods]);\n\n  return (\n    <button\n      className=\"btn btn-primary mr-2\"\n      type=\"button\"\n      onClick={handleClick}\n    >\n      {\n        isLoading ? (\n          <span>\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            />\n            Loading...\n          </span>\n        ) : (\n          <span>{buttonText}</span>\n        )\n      }\n    </button>\n  );\n};\n\nButton.propTypes = {\n  startLoad: PropTypes.func.isRequired,\n  isLoadingGoods: PropTypes.bool.isRequired,\n  buttonText: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const GoodsList = ({ goods }) => (\n  <div className=\"row p-4\">\n    <ul className=\"list-group col-3\">\n      {\n        goods.map(({ id, name, color }) => (\n          <li\n            key={id}\n            className=\"list-group-item\"\n            style={{ color }}\n          >\n            {name}\n          </li>\n        ))\n      }\n    </ul>\n  </div>\n);\n\nGoodsList.propTypes = {\n  goods: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    color: PropTypes.string.isRequired,\n  })).isRequired,\n};\n","import React from 'react';\n\nimport './App.scss';\n\nimport { getAll, get5First, getRedGoods } from './api/goods';\nimport { Button } from './components/Button';\nimport { GoodsList } from './components/GoodsList';\n\nclass App extends React.Component {\n  state = {\n    isLoadingGoods: false,\n    hasError: false,\n    goods: [],\n  }\n\n  loadGoods = async(loading) => {\n    this.setState({\n      isLoadingGoods: true,\n      hasError: false,\n    });\n\n    try {\n      const loadedGoods = await loading();\n\n      this.setState({\n        isLoadingGoods: false,\n        goods: loadedGoods,\n      });\n    } catch (error) {\n      this.setState({\n        isLoadingGoods: false,\n        hasError: true,\n      });\n    }\n  }\n\n  render() {\n    const { isLoadingGoods, goods, hasError } = this.state;\n\n    return (\n      <div className=\"container-fluid\">\n        <h1 className=\"display-4 lead mb-3\">Dynamic list of Goods</h1>\n\n        <Button\n          isLoadingGoods={isLoadingGoods}\n          startLoad={() => this.loadGoods(getAll)}\n          buttonText=\"Load Goods\"\n        />\n        <Button\n          isLoadingGoods={isLoadingGoods}\n          startLoad={() => this.loadGoods(get5First)}\n          buttonText=\"Load 5 Goods\"\n        />\n        <Button\n          isLoadingGoods={isLoadingGoods}\n          startLoad={() => this.loadGoods(getRedGoods)}\n          buttonText=\"Load Red Goods\"\n        />\n\n        {\n          hasError\n            ? (\n              <div className=\"alert alert-danger mt-3 col-4\" role=\"alert\">\n                Something went wrong!\n              </div>\n            ) : (\n              <GoodsList goods={goods} />\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}